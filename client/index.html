<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Collaborative Canvas</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="app">
    <!-- Room Bar -->
    <div class="room-bar">
      <div class="room-info">
        <span class="room-label">Room:</span>
        <span id="room-id" class="room-id">default</span>
        <button id="copy-room-btn" class="room-btn" title="Copy room link">ðŸ“‹</button>
      </div>
      <div class="room-controls">
        <input type="text" id="room-input" placeholder="Enter room ID" class="room-input">
        <button id="join-room-btn" class="room-btn primary">Join</button>
        <button id="create-room-btn" class="room-btn">New Room</button>
      </div>
    </div>

    <!-- Toolbar -->
    <div class="toolbar">
      <!-- Drawing Tools -->
      <div class="tool-group">
        <button id="brush-btn" class="tool-btn active" title="Brush (B)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34a.996.996 0 00-1.41 0L9 12.25 11.75 15l8.96-8.96a.996.996 0 000-1.41z"/>
          </svg>
        </button>
        <button id="eraser-btn" class="tool-btn" title="Eraser (E)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M16.24 3.56l4.95 4.94c.78.79.78 2.05 0 2.84L12 20.53a4.008 4.008 0 01-5.66 0L2.81 17c-.78-.79-.78-2.05 0-2.84l10.6-10.6c.79-.78 2.05-.78 2.83 0zm-1.41 1.42L6.93 12.87 11.13 17.07l7.89-7.89-4.19-4.2z"/>
          </svg>
        </button>
      </div>

      <div class="divider"></div>

      <!-- Shape Tools -->
      <div class="tool-group">
        <button id="rect-btn" class="tool-btn" title="Rectangle (R)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M3 5v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.11 0-2 .9-2 2zm16 14H5V5h14v14z"/>
          </svg>
        </button>
        <button id="circle-btn" class="tool-btn" title="Circle (C)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
          </svg>
        </button>
        <button id="line-btn" class="tool-btn" title="Line (L)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19.71 4.29l-1.42-1.42L3.71 17.46l1.42 1.42L19.71 4.29z" stroke="currentColor" stroke-width="2"/>
          </svg>
        </button>
        <button id="text-btn" class="tool-btn" title="Text (T)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M5 4v3h5.5v12h3V7H19V4z"/>
          </svg>
        </button>
        <label class="fill-toggle" title="Fill shapes">
          <input type="checkbox" id="fill-toggle">
          <span class="fill-icon">â—¼</span>
        </label>
      </div>

      <div class="divider"></div>

      <!-- Colors -->
      <div class="tool-group colors">
        <input type="color" id="color-picker" value="#000000" title="Pick color">
        <div class="color-presets">
          <button class="color-preset active" data-color="#000000" style="background:#000000"></button>
          <button class="color-preset" data-color="#FF0000" style="background:#FF0000"></button>
          <button class="color-preset" data-color="#00FF00" style="background:#00FF00"></button>
          <button class="color-preset" data-color="#0000FF" style="background:#0000FF"></button>
          <button class="color-preset" data-color="#FFFF00" style="background:#FFFF00"></button>
          <button class="color-preset" data-color="#FF00FF" style="background:#FF00FF"></button>
          <button class="color-preset" data-color="#00FFFF" style="background:#00FFFF"></button>
          <button class="color-preset" data-color="#FFA500" style="background:#FFA500"></button>
        </div>
      </div>

      <div class="divider"></div>

      <!-- Stroke Width -->
      <div class="tool-group stroke-width">
        <label>Size:</label>
        <input type="range" id="stroke-width" min="1" max="50" value="5">
        <span id="stroke-value">5px</span>
      </div>

      <div class="divider"></div>

      <!-- Actions -->
      <div class="tool-group actions">
        <button id="undo-btn" class="action-btn" title="Undo (Ctrl+Z)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"/>
          </svg>
        </button>
        <button id="redo-btn" class="action-btn" title="Redo (Ctrl+Shift+Z)">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"/>
          </svg>
        </button>
        <button id="clear-btn" class="action-btn danger" title="Clear Canvas">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
          </svg>
        </button>
      </div>

      <div class="divider"></div>

      <!-- Export -->
      <div class="tool-group export-group">
        <button id="export-png-btn" class="action-btn" title="Export PNG">
          PNG
        </button>
        <button id="export-svg-btn" class="action-btn" title="Export SVG">
          SVG
        </button>
      </div>

      <!-- Keyboard Hints -->
      <div class="keyboard-hints">
        <span>B: Brush</span>
        <span>R: Rect</span>
        <span>C: Circle</span>
        <span>L: Line</span>
        <span>T: Text</span>
      </div>
    </div>

    <!-- Canvas Container -->
    <div class="canvas-container">
      <canvas id="canvas"></canvas>
    </div>
  </div>

  <script type="module" src="src/main.ts"></script>
</body>
</html>